---
description: 掌握数据库设计步骤；实际问题的需求分析；概念模型E-R图； E-R图向数据模型的转换；数据库的物理设计以及应用实例等
---

# 第七章\~数据库设计

## 7.1 数据库设计概述 <a href="#7.1-overview-of-database-design" id="7.1-overview-of-database-design"></a>

**数据库设计侠义**的说就是设计数据库本身，即设计数据库的各级模式并建立数据库，这是数据库应用系统设计的一部分

**数据库设计的一般定义**：数据库设计是指对于一个给定的<mark style="color:purple;">应用环境</mark>，构造<mark style="color:green;">优化数据库逻辑模式和物理结构</mark>，并据此<mark style="background-color:red;">建立数据库及其应用系统，使之能够有效的存储和管理数据</mark>，满足各种用户的应用需求，包括信息管理要求和数据操作要求

### 7.1.1 数据库设计的基本步骤 <a href="#7.1.1" id="7.1.1"></a>

1.  **需求分析：**

    准确了解和分析用户需求，需求分析使跟个设计过程的基础，同时也是最困难和最耗时的一步
2.  **概念结构设计：**

    整个数据库设计的关键，它通过对用户需求进行综合、归纳和抽象，形成一个独立于固体数据库管理系统的概念模型
3.  **逻辑结构设计：**

    是将概念结构转换为某个数据库管理系统所支持的数据模型，并对其进行优化
4.  **物理结构设计：**

    是为逻辑数据模型选取一个最合适的应用环境的物理结构（包括存储结构和存取方法）
5.  **数据库实施：**

    运用数据库管理系统提供的数据库语言及其宿主语义，根据逻辑设计和物理设计的结果建立数据库，编写与调试应用程序，组织数据入库。并进行试运行
6.  **数据库运行和维护：**

    数据库应用系统经过试运行后即可投入正式运行，在数据库系统运行过程中必须不断地 进行评估、调整和测试

## 7.2 需求分析 <a href="#7.2-requirement-analysis" id="7.2-requirement-analysis"></a>

> 需求分析简单来说就是分析用户地要求。需求分析是设计数据库地起点，需求分析结果是狗准确反映用户的实际要求将直接影响到后面的设计，并影响到设计结果是否合理和实用

### 7.2.1 需求分析的任务 <a href="#7.2.1" id="7.2.1"></a>

需求分析的任务是通过详细调查西安市世界处理的对象，充分了解原系统的工作概况，明确各种需求，然后再基础上确定新系统的功能。新系统必须充分考虑今后可能的扩充和改变，不能仅仅按当前应用需求来设计数据库

调查的重点是“数据”和“处理”，通过调查、收集与分析，获得用户对数据库的如下要求

1. 信息要求：用户需要从数据库中获得哪些信息的内容与性质
2. 处理要求：用户要完成的数据处理功能，对处理性能的要求
3. 安全性与完整性要求

### 7.2.2 需求分析的方法 <a href="#7.2.2" id="7.2.2"></a>

调查清楚用户的实际要求，与用户达成共识，然后分析与表达用户的需求

## 7.3 概念结构设计 <a href="#7.3-conceptual-structure-design" id="7.3-conceptual-structure-design"></a>

将需求分析得到的用户其需求抽象为信息结构就是概念结构设计的过程

### 7.3.1 概念模型 <a href="#7.3.1" id="7.3.1"></a>

{% hint style="info" %}
概念模型是各种数据模型的共同基础，他比数据模型更独立于机器、更抽象、从而更加稳定。描述概念模型的有利工具是 E-R 模型
{% endhint %}

**概念模型的主要特点：**

1. 能够真实、充分的反映现实世，包括事物和事物之间的联系，能满足用户对数据的处理要求，是希纳是世界的一个真实模型
2. 易于理解，可以用它和不熟悉数据集的用户交换意见
3. 易于更改，当应用环境和应用要求改变时对概念模型修改和补充
4. 易于关系、网状、层次等各种数据模型转换

### 7.3.2 E-R 模型 <a href="#7.3.2" id="7.3.2"></a>

**一、实体之间的联系**

1. 两个实体型之间的联系：一对一联系(1:1)、一对多联系(1:n)、多对多联系(m:n)
2. 两个以上的实体型之间的联系
3. 单个实体型内的联系

**二、E-R 图**

> **E-R 图提供了表示实体型、属性和联系的方法**

1. 实体型用矩形表示，矩形框内写明实体名
2. 属性用椭圆椭圆表示，并用无向边将其与先用的实体型连接
3. 联系用菱形表示，菱形框内写明联系名，并用无向边分别于有关实体型连接起来，同时再无向边旁边标上联系的类型(1:1, 1:n: m:n)

## 7.4 逻辑结构设计 <a href="#7.4-logical-structure-design" id="7.4-logical-structure-design"></a>

{% hint style="info" %}
概念结构设计是独立于任何一种数据模型的信息结构，逻辑结构设计的任务就是把概念结构设计阶段设计好的基本 E-R 图转换为选用数据库管理系统产品所支持的数据模型相符合的逻辑结构
{% endhint %}

### 7.4.1 E-R 图向关系模型的转换 <a href="#7.4.1" id="7.4.1"></a>

* 一个 1:1 联系可转换为一个独立的关系模式，也可用于任意一端对应的关系模式合并
* 一个 1:n 联系可用转换为一个独立的关系模式，也可以合并到 n 端的关系模式
* 一个 m:n 联系转换为一个独立的关系模式
* 三个或三个以上的实体间的一个多元联系可以转换为一个关系模式
* **具有相同码的关系模式可以合并**

## 7.5 物理结构设计 <a href="#7.5-physical-structure-design" id="7.5-physical-structure-design"></a>

{% hint style="info" %}
为一个给定逻辑数据结构模型选取一个最适合应用要求的物理结构的过程，就是物理结构设计
{% endhint %}

数据库物理结构设计的两步：

1. 确定数据库的物理结构
2. 对物理结构进行评分

### 7.5.1 数据库物理设计的内容 <a href="#7.5.1" id="7.5.1"></a>

为关系模式选择存取方法，以及设计关系、索引等数据库文件的物理结构

### 7.5.2 关系模式存取方法 <a href="#7.5.2" id="7.5.2"></a>

一、B+树索引存取方法

二、hash 索引存取方法

三、聚簇存取方法

### 7.5.3 确定数据库的存储结构 <a href="#7.5.3" id="7.5.3"></a>

一、确定数据的存放位置

二、确定系统配置
